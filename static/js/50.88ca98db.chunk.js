"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[50],{596:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(439),s=n(791),a=n(434),i=n(945),u=n(933),o=n(965),l=n(663),c=n(649),d=n(83),f="AdvertsFavorites_box__6uU+S",v="AdvertsFavorites_title__KS13U",h="AdvertsFavorites_advertsGallery__ZuOpR",m="AdvertsFavorites_loadBtn__ImT8z",_=n(329),x=function(e){var t=e.query,n=(0,s.useState)([]),u=(0,r.Z)(n,2),o=u[0],x=u[1],j=(0,s.useState)(1),p=(0,r.Z)(j,2),b=p[0],k=p[1],F=(0,s.useState)(!1),S=(0,r.Z)(F,2),g=S[0],Z=S[1],y=(0,s.useState)(null),w=(0,r.Z)(y,2),C=w[0],A=w[1],N=(0,a.v9)(i.z),q=function(e){A(e)},E=(0,s.useCallback)((function(){var e=l.Z.load("favorites"),n=N.filter((function(t){return e.includes(t.id)})),r=t?(0,d.p)(n,t):n,s=8*(b-1),a=Math.min(s+8,r.length);Z(a<r.length);var i=r.slice(0,a);x(i)}),[N,t,b]);return(0,s.useEffect)((function(){E()}),[C,b,t,E]),(0,_.jsx)(_.Fragment,{children:0!==o.length||t?(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("ul",{className:h,children:o.map((function(e){return(0,_.jsx)(c.B,{advert:e,id:e.id,followFavorite:q})}))}),g&&(0,_.jsx)("button",{type:"button",className:m,onClick:function(){k((function(e){return e+1}))},children:"Load more"})]}):(0,_.jsx)("h1",{className:v,children:"Favorites list is still empty. Choose your favorite cars in the catalog!"})})},j=function(){var e=(0,s.useState)(),t=(0,r.Z)(e,2),n=t[0],l=t[1],c=(0,a.I0)(),d=(0,a.v9)(i.x);return(0,s.useEffect)((function(){c((0,u.G)())}),[c]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:d&&(0,_.jsx)("b",{children:"Request in progress..."})}),(0,_.jsx)(o.E,{onSubmit:function(e){l(e)}}),(0,_.jsx)(x,{query:n})]})}}}]);
//# sourceMappingURL=50.88ca98db.chunk.js.map